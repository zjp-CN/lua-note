# 入门

[lua 官网](http://www.lua.org/) | [Reference 手册](https://www.lua.org/manual) | [Getting started][Getting started]

[Getting started]: http://www.lua.org/start.html

## 安装 lua

[安装说明][Getting started] 说的很清楚了。

例如，在 ubuntu 上输入 lua，会提醒你没有安装 lua，并且列出安装命令。在我的发行版本上（ubuntu
20），使用 `apt install lua5.3` 安装。如果需要最新版本，则下载源码编译安装。

## 运行 lua

### 几种方式

- 进入命令行交互模式：`lua`。
- 运行脚本文件：`lua xx.lua`。
- 运行脚本文件之后进入命令行交互模式：`lua -i xx.lua`，它会把 `xx.lua` 中的内容（变量、函数等）带入交互会话。
- 执行单条语句：`lua -e "print(1)"` 则打印 1.

> lua 的注释符号为 `--`，而且你可以在一行的开头，或者一行代码的末尾用此符号写注释。

### 交互模式

#### 可以省略的 `=`

在 lua5.2 之前的版本中，命令行需要在表达式之前输入 `=`：
```lua
a = 0
= a+1 --> 1
= a-1 --> -1
```

而从 lua5.3 开始的版本中，可以无需输入 `=`：
```lua
a = 0
a+1 --> 1
a-1 --> -1
```
当然，为了保持兼容性，你输入 `=` 也不会有报错。

#### 运行块

lua 交互模式并不直接支持以块 (chunk) 为单位运行代码，也就是说，你无法在交互中换行 —— 按下 `Enter` 即执行语句。

但你可以采取以下一些方式运行一个代码块：
- 把代码写到 `.lua` 的文件中，使用 `lua -i xx.lua`，执行脚本然后自动进入交互模式，并继续使用脚本内定义的内容。
- 进入交互模式，使用 `dofile("xx.lua")`，中途执行脚本，并继续使用脚本内定义的内容。

> lua 这种按块加载脚本的做法，在调试或测试代码时是方便的。
>
> 你可以在两个窗口中工作：一个编辑器窗口用来写 lua 代码；另一个命令行窗口进入交互模式，执行刚写的代码。
