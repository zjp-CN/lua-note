<!DOCTYPE HTML>
<html lang="zh" class="sidebar-visible no-js ayu">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>入门 - lua-note</title>
        <!-- Custom HTML head -->
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="theme/pagetoc.css">
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "ayu";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('ayu')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="Getting-Started.html"><strong aria-hidden="true">1.</strong> 入门</a></li><li class="chapter-item expanded "><a href="Types.html"><strong aria-hidden="true">2.</strong> 基本类型</a></li><li class="chapter-item expanded "><a href="IO.html"><strong aria-hidden="true">3.</strong> I/O 功能</a></li><li class="chapter-item expanded "><a href="Syntax.html"><strong aria-hidden="true">4.</strong> 语法细节</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu (default)</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">lua-note</h1>

                    <div class="right-buttons">
                        <a href="https://github.com/zjp-CN/lua-note" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <!-- Page table of contents -->
                        <div class="sidetoc"><nav class="pagetoc"></nav></div>

                        <!-- Page table of contents -->
                        <div class="sidetoc"><nav class="pagetoc"></nav></div>

                        <!-- Page table of contents -->
                        <div class="sidetoc"><nav class="pagetoc"></nav></div>

                        <!-- Page table of contents -->
                        <div class="sidetoc"><nav class="pagetoc"></nav></div>

                        <!-- Page table of contents -->
                        <div class="sidetoc"><nav class="pagetoc"></nav></div>

                        <!-- Page table of contents -->
                        <div class="sidetoc"><nav class="pagetoc"></nav></div>

                        <!-- Page table of contents -->
                        <div class="sidetoc"><nav class="pagetoc"></nav></div>

                        <!-- Page table of contents -->
                        <div class="sidetoc"><nav class="pagetoc"></nav></div>

                        <!-- Page table of contents -->
                        <div class="sidetoc"><nav class="pagetoc"></nav></div>

                        <!-- Page table of contents -->
                        <div class="sidetoc"><nav class="pagetoc"></nav></div>

                        <!-- Page table of contents -->
                        <div class="sidetoc"><nav class="pagetoc"></nav></div>

                        <!-- Page table of contents -->
                        <div class="sidetoc"><nav class="pagetoc"></nav></div>

                        <!-- Page table of contents -->
                        <div class="sidetoc"><nav class="pagetoc"></nav></div>

                        <!-- Page table of contents -->
                        <div class="sidetoc"><nav class="pagetoc"></nav></div>

                        <!-- Page table of contents -->
                        <div class="sidetoc"><nav class="pagetoc"></nav></div>

                        <!-- Page table of contents -->
                        <div class="sidetoc"><nav class="pagetoc"></nav></div>

                        <!-- Page table of contents -->
                        <div class="sidetoc"><nav class="pagetoc"></nav></div>

                        <!-- Page table of contents -->
                        <div class="sidetoc"><nav class="pagetoc"></nav></div>

                        <!-- Page table of contents -->
                        <div class="sidetoc"><nav class="pagetoc"></nav></div>

                        <!-- Page table of contents -->
                        <div class="sidetoc"><nav class="pagetoc"></nav></div>

                        <!-- Page table of contents -->
                        <div class="sidetoc"><nav class="pagetoc"></nav></div>

                        <!-- Page table of contents -->
                        <div class="sidetoc"><nav class="pagetoc"></nav></div>

                        <!-- Page table of contents -->
                        <div class="sidetoc"><nav class="pagetoc"></nav></div>

                        <!-- Page table of contents -->
                        <div class="sidetoc"><nav class="pagetoc"></nav></div>

                        <!-- Page table of contents -->
                        <div class="sidetoc"><nav class="pagetoc"></nav></div>

                        <!-- Page table of contents -->
                        <div class="sidetoc"><nav class="pagetoc"></nav></div>

                        <h1 id="入门"><a class="header" href="#入门">入门</a></h1>
<p><a href="http://www.lua.org/">lua 官网</a> | <a href="https://www.lua.org/manual">Reference 手册</a> | <a href="http://www.lua.org/start.html">Getting started</a></p>
<blockquote>
<p>该笔记系列主要整理自 Roberto Ierusalimschy 的 <em>Programming in Lua</em> （2017，第四版） 一书。以 Lua5.3 为主。</p>
</blockquote>
<h2 id="版本历史"><a class="header" href="#版本历史">版本历史</a></h2>
<table><thead><tr><th>正式版本号</th><th>发布年份<sup class="footnote-reference"><a href="#year">1</a></sup></th><th><em>Programming in Lua</em></th></tr></thead><tbody>
<tr><td>1.0</td><td>1993</td><td></td></tr>
<tr><td>2.1</td><td>1995</td><td></td></tr>
<tr><td>3.0</td><td>1997</td><td></td></tr>
<tr><td>4.0</td><td>2000</td><td></td></tr>
<tr><td>5.0<sup class="footnote-reference"><a href="#LuaJIT">2</a></sup></td><td>2003</td><td>第一版 (2003)</td></tr>
<tr><td>5.2</td><td>2011</td><td>第三版 (2016)</td></tr>
<tr><td>5.3</td><td>2014</td><td>第四版 (2017)</td></tr>
<tr><td>5.4</td><td>2020</td><td></td></tr>
</tbody></table>
<div class="footnote-definition" id="year"><sup class="footnote-definition-label">1</sup>
<p>年份信息整理自：<a href="https://www.lua.org/news.html">lua 官网</a></p>
</div>
<div class="footnote-definition" id="LuaJIT"><sup class="footnote-definition-label">2</sup>
<p>最新 LuaJIT 2.0+ 所对应的版本</p>
</div>
<h2 id="安装-lua"><a class="header" href="#安装-lua">安装 lua</a></h2>
<p>参考：<a href="http://www.lua.org/start.html">安装说明</a>。</p>
<p>例如，在 ubuntu 上输入 lua，会提醒你没有安装 lua，并且列出安装命令。在我的发行版本上（ubuntu
20），使用 <code>apt install lua5.3</code> 安装。如果需要最新版本，则下载源码编译安装。</p>
<h2 id="运行-lua"><a class="header" href="#运行-lua">运行 lua</a></h2>
<h3 id="基本方式"><a class="header" href="#基本方式">基本方式</a></h3>
<pre><code class="language-console">usage: lua [options] [script [args]]
Available options are:
  -e stat  execute string 'stat'
  -i       enter interactive mode after executing 'script'
  -l name  require library 'name'
  -v       show version information
  -E       ignore environment variables
  --       stop handling options
  -        stop handling options and execute stdin
</code></pre>
<ul>
<li>进入命令行交互模式：<code>lua</code> 或者 <code>lua -i</code>。</li>
<li>运行脚本文件：<code>lua xx.lua</code>。</li>
<li>运行脚本文件之后进入命令行交互模式：<code>lua -i xx.lua</code>，它会把 <code>xx.lua</code> 中的内容（变量、函数等）带入交互会话。</li>
<li>执行单条语句：<code>lua -e &quot;print(1)&quot;</code> 则打印 1。也可以执行多条语句：<code>lua -e &quot;a=1&quot; -e &quot;print(a)&quot;</code>，也打印 1。</li>
</ul>
<h3 id="捕获参数"><a class="header" href="#捕获参数">捕获参数</a></h3>
<p>在 <code>print.lua</code> 中写入以下内容：</p>
<pre><code class="language-lua">print(arg[-4])
print(arg[-3])
print(arg[-2])
print(arg[-1])
print(arg[0])
print(arg[1])
print(type(arg[1]))
print(arg[2])
print(a)
</code></pre>
<p>并使用以下命令运行：</p>
<pre><code class="language-console">lua -i -e &quot;a=100&quot; print.lua 1 &quot;s&quot;
</code></pre>
<p>会打印如下内容，并进入 lua 的交互模式：</p>
<pre><code class="language-text">lua
-i
-e
a=100
print.lua
1
string
s
100
</code></pre>
<p>注意：</p>
<ol>
<li><code>-e</code> 参数后的表达式是有效定义的，在交互模式下，<code>a</code> 的值为 100；</li>
<li><code>arg</code> 是 lua 预定义的<a href="#%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F">全局变量</a>，<code>arg[0]</code> 总是脚本名，
<code>arg</code> 的正整数索引为其后所跟的参数，类型为 <code>string</code>。</li>
</ol>
<h3 id="加载库"><a class="header" href="#加载库">加载库</a></h3>
<p>针对上面 <code>print.lua</code> 脚本，你也可以使用 <code>lua -l print</code> 加载运行（无需 <code>.lua</code> 后缀）。</p>
<p>但是由于此时我们调用了与 <code>print</code> 函数同名的库，这导致
<code>print</code> 函数不可用。（你可以使用 <code>lua -l print -i</code> 进入交互模式尝试一下）</p>
<h3 id="交互模式"><a class="header" href="#交互模式">交互模式</a></h3>
<h4 id="可以省略的-"><a class="header" href="#可以省略的-">可以省略的 <code>=</code></a></h4>
<p>在 lua5.2 之前的版本中，命令行需要在表达式之前输入 <code>=</code>：</p>
<pre><code class="language-lua">a = 0
= a+1 --&gt; 1
= a-1 --&gt; -1
</code></pre>
<p>而从 lua5.3 开始的版本中，可以无需输入 <code>=</code>：</p>
<pre><code class="language-lua">a = 0
a+1 --&gt; 1
a-1 --&gt; -1
</code></pre>
<p>当然，为了保持兼容性，你输入 <code>=</code> 也不会有报错。</p>
<h4 id="运行块"><a class="header" href="#运行块">运行块</a></h4>
<p>lua 交互模式并不直接支持以块 (chunk) 为单位运行代码，也就是说，你无法在交互中以块的方式换行 —— 按下 
<code>Enter</code> 即执行语句<sup class="footnote-reference"><a href="#Enter">3</a></sup>。</p>
<div class="footnote-definition" id="Enter"><sup class="footnote-definition-label">3</sup>
<p>但你如果在语句未结束之前按 <code>Enter</code>，并不会执行语句，而是语句内的换行：</p>
<pre><code class="language-lua">&gt; c = 1; print( -- 回车
&gt;&gt; c)
1
</code></pre>
</div>
<p>除了把多个语句写到一行之外，你还可以采取以下一些方式运行一个代码块：</p>
<ul>
<li>把代码写到 <code>.lua</code> 的文件中，使用 <code>lua -i xx.lua</code>，执行脚本然后自动进入交互模式，并继续使用脚本内定义的内容。</li>
<li>进入交互模式，使用 <code>dofile(&quot;xx.lua&quot;)</code>，中途执行脚本，并继续使用脚本内定义的内容。<br />
<code>xx.lua</code> 可以是绝对路径也可以是相对路径，但是无法识别 <code>~</code> 开头的 HOME 目录。</li>
</ul>
<blockquote>
<p>lua 这种按块加载脚本的做法，在调试或测试代码时是方便的。</p>
<p>你可以在两个窗口中工作：一个编辑器窗口用来写 lua 代码；另一个命令行窗口进入交互模式，执行刚写的代码。</p>
</blockquote>
<h2 id="命名规则"><a class="header" href="#命名规则">命名规则</a></h2>
<ol>
<li>可以组合大小写英文字母、数字、<code>_</code> 来命名，但是不能以数字开头。</li>
<li>不支持 UTF8 字符，即不支持中文字符作为（变量、函数等）名字。</li>
<li>避免使用 <code>_</code> 后跟大写字母的命名方式，比如 <code>_VERSION</code> 这个名字被 lua 所使用，具有特殊含义。</li>
<li>以下名字被 lua 所保留，不能当作普通名字被使用。
<pre><code>and break do else elseif end false for function goto
if in local nil not or repeat return then true until while
</code></pre>
</li>
<li>lua 里的名字是大小写敏感的，比如 <code>and</code> 是被保留的名字，但 <code>And</code> 和 <code>AND</code> 是可被使用的名字。</li>
</ol>
<h2 id="注释符号"><a class="header" href="#注释符号">注释符号</a></h2>
<ol>
<li>单行注释符号为 <code>--</code>，从 <code>--</code> 开始到一行结束的内容都被认为是注释。<br />
因此，你可以在一行的开头，或者一行代码的末尾用此符号写注释。</li>
<li>区域（多行）注释符号为 <code>--[[]]</code>，从 <code>--[[</code> 到 <code>]]</code> 之间的内容被认为是注释。</li>
<li>如果在多行注释内输出 <code>[[</code> 或 <code>]]</code>，参考 <a href="Types.html#string"><code>string</code> 的多行文本</a></li>
</ol>
<p>注意，区域注释不一定是多行：</p>
<pre><code class="language-lua">--[[ print(1) ]] --&gt; 等价于 `-- print(1)` 当行注释
--[[ print(1) ]]print(2) --&gt; 依然会执行 `]]` 之后的内容，即打印 2

---[[
print(1) --&gt; 这个语句会被执行，因为 `---[[` 会优先被识别为单行注释，从而 `--]]` 也是单行注释
--]]
</code></pre>
<h2 id="语句分隔符-"><a class="header" href="#语句分隔符-">语句分隔符 <code>;</code></a></h2>
<p>lua 在语句之间并不需要 <code>;</code> 分隔符，而且换行也不具有语句分隔的作用。</p>
<p>以下四种形式都可以分隔两个语句。</p>
<pre><code class="language-lua">-- 常用
a = 1
b = a * 2

-- 你可以在末尾加 `;` 
a = 1;
b = a * 2;

a = 1; b = a * 2 -- 把多个语句写到一行时常用

a = 1 b = a * 2 -- 有效语句
</code></pre>
<p>在交互模式下，调用函数会直接打印结果，而在函数后添加 <code>;</code> 可以阻止打印结果。</p>
<h1 id="变量与类型"><a class="header" href="#变量与类型">变量与类型</a></h1>
<h2 id="全局变量"><a class="header" href="#全局变量">全局变量</a></h2>
<p>全局变量 (Global Variables)：</p>
<ol>
<li>无需声明即可使用。未声明的全局变量都是 <code>nil</code>。所以使用未声明的全局变量并不会产生错误。</li>
<li>可以把全局变量赋值为 <code>nil</code>。lua <strong>不区分</strong>全局变量的 <code>nil</code> 是人为赋值，还是未初始化。</li>
<li>把全局变量赋值为 <code>nil</code> 之后，lua 最终可能<abbr title="reclaim">回收</abbr>全局变量所使用的的内存。</li>
<li>全局变量存放在 <code>_ENV</code> 表中，比如 <code>a</code> 无论是否被定义，都可以使用 <code>_ENV.a</code> 来表示，且 <code>a==_ENV.a --&gt; true</code>。</li>
</ol>
<h2 id="类型"><a class="header" href="#类型">类型</a></h2>
<p>lua 是<abbr title="dynamically-typed language">动态类型语言</abbr>，所以没有类型定义（你无法定义一个类型）。</p>
<p>但是，<abbr title="Each value carries its own type.">每个值都带有各自的类型。</abbr></p>
<p>lua 有八种基本类型：</p>
<ol>
<li><code>nil</code></li>
<li><code>Boolean</code></li>
<li><code>number</code></li>
<li><code>string</code></li>
<li><code>userdata</code></li>
<li><code>function</code></li>
<li><code>thread</code></li>
<li><code>table</code></li>
</ol>
<p>使用 <code>type</code> 函数可以知道一个值的类型，<code>type</code> 函数的返回值是 <code>string</code> 类型。</p>
<pre><code class="language-lua">type(nil)           --&gt; nil
type(X)             --&gt; nil
type(true)          --&gt; boolean
type(1)             --&gt; number
type(0.1)           --&gt; number
type(&quot;Hello world&quot;) --&gt; string
type(io.stdin)      --&gt; userdata
type(type)          --&gt; function
type({})            --&gt; table
type(type(X))       --&gt; string
</code></pre>
<p>变量可以存放任何类型的值：</p>
<pre><code class="language-lua">type(a) --&gt; nil ('a' 尚未被初始化)

a = 1
type(a) --&gt; number

a = &quot;a string!!&quot;
type(a) --&gt; string

a = nil
type(a) --&gt; nil
</code></pre>
<h3 id="nil"><a class="header" href="#nil"><code>nil</code></a></h3>
<p><code>nil</code> 类型只有一个值 <code>nil</code>，用来表示与其他值不同、或者没有值。</p>
<p><code>nil</code> 类型可以比较相等，且只与 <code>nil</code> 相等。</p>
<pre><code class="language-lua">nil == nil --&gt; true
nil == 0   --&gt; false
nil == 1   --&gt; false
nil == &quot;&quot;  --&gt; false
</code></pre>
<p>全局变量的值在第一次赋值之前，默认为 <code>nil</code>。通过赋值 <code>nil</code> 给全局变量来把它删除。</p>
<h3 id="boolean"><a class="header" href="#boolean"><code>Boolean</code></a></h3>
<p><code>Boolean</code> 类型只有两个值：<code>true</code> 和 <code>false</code>。</p>
<pre><code class="language-lua">not true == false --&gt; true
not false == true --&gt; true
false ~= true     --&gt; true
</code></pre>
<p>但 <code>Boolean</code> 值不是唯一表示条件的值。</p>
<blockquote>
<p>在条件语句和逻辑操作中，有以下规定：</p>
<ol>
<li><code>false</code> 和 <code>nil</code> 都表示 <code>false</code>，其他都表示 <code>true</code>。尤其 <code>0</code>、<code>0.</code>、<code>&quot;&quot;</code> 都表示 <code>true</code>。</li>
<li><code>and</code> 运算符返回的结果：当第一个运算对象表示 <code>false</code> 时，返回第一个运算对象，否则返回第二个运算对象。</li>
<li><code>or</code> 运算符返回的结果：当第一个运算对象表示 <code>true</code> 时，返回第一个运算对象，否则返回第二个运算对象。</li>
</ol>
<p>注意，<code>and</code> 和 <code>or</code> 返回的是运算对象 (operand)，而不是 <code>Boolean</code> 值。</p>
</blockquote>
<p>比如：</p>
<pre><code class="language-lua">nil   and 1    --&gt; nil
false and 1    --&gt; false
0     and 1    --&gt; 1
1     and 0    --&gt; 0
false or &quot;hi&quot;  --&gt; &quot;hi&quot;
nil   or false --&gt; false
0     or 1     --&gt; 0
1     or 0     --&gt; 1
</code></pre>
<hr />
<p><code>and</code> 和 <code>or</code> 都是<abbr title="short-circuit evaluation">短路求值</abbr>：当第二个运算对象必须求值时才计算。</p>
<p><code>x = x or v</code> 与 <code>if not x then x = v end</code> 等价，可以用来把原本为 <code>false</code> 或者 <code>nil</code> 的 <code>x</code> 设置成 <code>v</code> 的值。</p>
<p><code>(a and b) or c</code> 与 <code>a and b or c</code> 等价，与 C 语言中的 <code>a ? b : c</code> 等价，表示满足 a 时，返回 b，否则返回 c。<br />
比如 <code>(x &gt; y) and x or y</code> 表示取数字 x 和 y 中的较大值。当 <code>x &gt; y</code> 时，<code>and</code> 语句返回 <code>x</code>，而 
<code>x</code> 为数字，表示 <code>true</code>，所以在 <code>or</code> 语句中被返回。当不满足 <code>x &gt; y</code> 时，<code>and</code> 语句返回 <code>false</code>，而
<code>y</code> 为数字，表示 <code>true</code>，所以在 <code>or</code> 语句中被返回。</p>
<p><code>&gt;</code>、<code>&lt;</code>、<code>==</code>、<code>~=</code>、<code>&gt;=</code>、<code>&lt;=</code>、<code>not</code> 运算符总是返回 <code>Boolean</code> 值：</p>
<pre><code class="language-lua">&quot;1&quot; &gt; &quot;0&quot;   --&gt; 等价于 1 &gt; 0，返回 true
&quot;-1&quot; &gt; &quot;0&quot;  --&gt; 等价于 -1 &gt; 0，返回 false
not nil     --&gt; true
not false   --&gt; true
not 0       --&gt; false
not not 0   --&gt; true
not not nil --&gt; false
</code></pre>
<p>两个不同的类型一般不能比较大小，但是可以比较相等：两个不同的类型比较相等时，总是返回 
<code>false</code>。比如 <code>1 == nil --&gt; false</code>、<code>false ~= nil --&gt; true</code>。</p>
<p>#TODO# <code>&gt;</code> 和 <code>&lt;</code> 比较字符串。</p>
<h3 id="userdata"><a class="header" href="#userdata"><code>userdata</code></a></h3>
<p>userdata 可以把任意 C 的类型存储在 lua 变量中，并在 lua 中，除赋值和比较相等之外，无预定义的操作。</p>
<p>它表示外部程序或 C 库中创建的新类型。比如标准库 I/O 用它表示打开文件。所以它在 C API 方面涉及较多。</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="next" href="Types.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="next" href="Types.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>

        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        <script src="ace.js" type="text/javascript" charset="utf-8"></script>
        <script src="editor.js" type="text/javascript" charset="utf-8"></script>
        <script src="mode-rust.js" type="text/javascript" charset="utf-8"></script>
        <script src="theme-dawn.js" type="text/javascript" charset="utf-8"></script>
        <script src="theme-tomorrow_night.js" type="text/javascript" charset="utf-8"></script>
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        <script type="text/javascript" src="theme/pagetoc.js"></script>
    </body>
</html>
